<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>
    {% if page.title %}{{ page.title }}{% else %}{{ site.data.settings.title
    }}{% endif %}
  </title>
  <meta
    data-rh="true"
    name="title"
    content="{% if page.title %}{{ page.title }}{% else %}{{ site.data.settings.title
  }}{% endif %}"
  />
  <meta name="description" content="{% if page.url == "/" %}{{
  site.data.settings.description | strip_html | xml_escape }}{% elsif
  page.description %}{{ page.description | strip_html | xml_escape }}{% else
  %}{{ page.excerpt | strip_html | xml_escape }}{% endif %}" />
  <link
    rel="shortcut icon"
    type="image/x-icon"
    href="/assets/images/favicon.ico"
  />

  <link rel="canonical" href="{{site.url | append:  page.url}}" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{% if page.url == "/" %}{{
  site.data.settings.title }}{% else %}{{ page.title }} – {{
  site.data.settings.title }}{% endif %}"> <meta name="twitter:description"
  content="{% if page.url == "/" %}{{ site.data.settings.description |
  strip_html | xml_escape }}{% elsif page.description %}{{ page.description |
  strip_html | xml_escape }}{% else %}{{ page.excerpt | strip_html | xml_escape
  }}{% endif %}"> {% assign defaultImage = "/assets/images/logo.png" %}

  <meta
    name="twitter:image:src"
    content="{{ page.image | default: defaultImage | absolute_url }}"
  />

  <!-- Facebook OpenGraph -->
  {%- if page.date -%}
  <meta data-rh="true" property="og:type" content="article" />
  <meta
    data-rh="true"
    property="article:published_time"
    content="{{page.date}}"
  />
  {%- else -%}
  <meta data-rh="true" property="og:type" content="website" />
  {%- endif -%}
  <meta property="og:url" content="{{site.url | append:  page.url}}" />
  <meta property="og:title" content="{% if page.url == "/" %}{{
  site.data.settings.title }}{% else %}{{ page.title }} – {{
  site.data.settings.title }}{% endif %}"> <meta property="og:description"
  content="{% if page.url == "/" %}{{ site.data.settings.description |
  strip_html | xml_escape }}{% elsif page.description %}{{ page.description |
  strip_html | xml_escape }}{% else %}{{ page.excerpt | strip_html | xml_escape
  }}{% endif %}">
  <meta
    property="og:image"
    content="{{page.image | default: defaultImage | absolute_url }}"
  />
  <script type="application/ld+json">
    {% if page.url == '/' %}
      {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "name": "{{ site.websitename }}",
        "url": "{{ site.url }}",
        "description": "{{ site.description | escape }}",
        "publisher": {
          "@type": "Organization",
          "name": "{{ site.websitename }}",
          "url": "{{ site.url }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ site.logo | absolute_url }}",
            "width": 1200,
            "height": 600
          }
        }

      }
    {% elsif page.layout == 'post' %}
      {
        "@context": "http://schema.org",
        "@type": "Article",
        "publisher": {
          "@type": "Organization",
          "name": "{{ site.websitename }}",
          "url": "{{ site.url }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ site.logo | absolute_url }}",
            "width": 1200,
            "height": 600
          }
        },
        "image": {
          "@type": "ImageObject",
          "url": "{{ page.image | absolute_url }}",
          "width": 2560,
          "height": 1440
        },
        "url": "{{ page.url | absolute_url }}",
        "mainEntityOfPage": "{{ page.url | absolute_url }}",
        "datePublished": "{{ page.date | date_to_xmlschema }}",
        "keywords": "{{ page.tags | join: ', ' }}",
        "description": "{% if page.url == "/" %}{{
          site.data.settings.description | strip_html | xml_escape }}{% elsif
          page.description %}{{ page.description | strip_html | xml_escape }}{% else
          %}{{ page.excerpt | strip_html | xml_escape }}{% endif %}",
        "headline": "{{ page.title | escape }}",
        "author": {
          "@type": "Person",
          "name": "{{ page.author | escape }}",
          "url": "{{ site.baseurl }}/author/{{ page.author | slugify }}/",
          "sameAs": ["{{site.url}}/{{page.author | slugify}}"],
          "image": {
            "@type": "ImageObject",
            "url": "{{ site.logo | absolute_url }}",
            "width": 960,
            "height": 960
          }
        }
      }
    {% else %}
      {
        "@context": "http://schema.org",
        "@type": "WebPage",
        "name": "{{ page.title | escape }}",
        "url": "{{ page.url | absolute_url }}",
        "description": "{% if page.url == "/" %}{{
          site.data.settings.description | strip_html | xml_escape }}{% elsif
          page.description %}{{ page.description | strip_html | xml_escape }}{% else
          %}{{ page.excerpt | strip_html | xml_escape }}{% endif %}",
        "publisher": {
          "@type": "Organization",
          "name": "{{ site.title | escape }}",
          "url": "{{ site.url }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ site.logo | absolute_url }}",
            "width": 2100,
            "height": 240
          }
        }

      }
    {% endif %}
  </script>
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <link
    rel="preload"
    href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,700;1,400&family=Poppins:wght@400;500;700&display=swap"
    as="style"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,700;1,400&family=Poppins:wght@400;500;700&display=swap"
    rel="stylesheet"
  />

  <!-- Ionicons -->
  <link
    rel="preload"
    href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css"
    as="style"
  />
  <link
    href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css"
    rel="stylesheet"
  />

  <script>
    {% if site.data.settings.color_scheme == "auto" %}
    if (localStorage.getItem("theme") === "dark") {
      document.documentElement.setAttribute("dark", "");
      document.documentElement.classList.add('dark-mode');
    }
    {% elsif site.data.settings.color_scheme == "light" %}
      document.documentElement.setAttribute("light", "");
      document.documentElement.classList.add('light-mode');
    {% elsif site.data.settings.color_scheme == "dark" %}
      document.documentElement.setAttribute("dark", "");
      document.documentElement.classList.add('dark-mode');
    {% else %}
    if (localStorage.getItem("theme") === "dark") {
      document.documentElement.setAttribute("dark", "");
      document.documentElement.classList.add('dark-mode');
    }
    {% endif %}
  </script>

  <style>
    {% capture include_to_scssify %}
      {% include main.scss %}
    {% endcapture %}
    {{ include_to_scssify | scssify }}
  </style>
</head>
